<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="css/index.css">
</head>
<style>
  .clearfix:after {
    display: block;
    clear: both;
    content: "";
    visibility: hidden;
    height: 0
}
.fl{
  float: left;
}
.color1{
  background: #fef0f0;
  cursor: not-allowed;
}
.color1:hover{
  background: #fef0f0;
}
.color1 button{
  color: #c0c4cc;
  cursor: not-allowed;
  background-image: none;
  background-color: #fff;
  border-color: #ebeef5;
}
.color1 button:hover{
  color: #c0c4cc;
  cursor: not-allowed;
  background-image: none;
  background-color: #fff;
  border-color: #ebeef5;
}
</style>
<body>
        <div id="app">
        <!-- 添加的弹框 -->
        <el-dialog
        :visible.sync="dialogFormVisible2"
        width="40%">
        <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
            <el-form-item label="课件名称" prop="name">
              <el-input v-model="ruleForm.name"></el-input>
            </el-form-item>
            <el-form-item label="分组名称" prop="course">
              <el-select v-model="ruleForm.course" placeholder="请选择" @change="change_course">
                <el-option
                  v-for="item in courses"
                  :key="item.id"
                  :label="item.groupName"
                  :value="item.id">
                </el-option>
              </el-select>
            </el-form-item>
            <el-form-item label="课件">
                <input type="file" id="img_upload" multiple>
            </el-form-item>

          </el-form>
        <span slot="footer" class="dialog-footer">
            <el-button type="primary" @click="submitForm2('ruleForm')">确 定</el-button>
        </span>
      </el-dialog>
          <div v-show="showList">
            <el-input v-model="tableDataName" placeholder="请输入姓名" style="width:240px"></el-input>
            <el-button type="primary">搜索</el-button>
            <el-button type="primary" @click="href">创建订单</el-button>
            <el-table 
            :data="tableDataEnd"
            ref="multipleTable"
            :cell-class-name="rowClass"
            border
            style="width: 100%;margin-top:5px;"
            @selection-change="handleSelectionChange">
            <!-- <el-table-column
            type="selection"
            width="50">
          </el-table-column> -->
            <el-table-column
            label="id"
            width="50">
            <template slot-scope="scope">
              <span>{{ scope.row.id }}</span>
            </template>
          </el-table-column>
          <el-table-column
          label="订单号"
          width="100">
          <template slot-scope="scope">
            <span>{{ scope.row.studCourse.orderNo }}</span>
          </template>
        </el-table-column>
            <el-table-column
            label="昵称"
            width="80">
            <template slot-scope="scope">
             <span>{{ scope.row.studCourse.callName }}</span>
           </template>
           </el-table-column>
           <el-table-column 
           label="学校名称"
           width="100">
           <template slot-scope="scope">
            <span>{{ scope.row.studCourse.schoolName }}</span>
          </template>
          </el-table-column>
            <el-table-column 
            label="课程名称"
            width="100">
            <template slot-scope="scope">
              <span>{{ scope.row.studCourse.temCourseName }}</span>
            </template>
           </el-table-column>
           <el-table-column 
           label="专业名称"
           width="100">
           <template slot-scope="scope">
             <span>{{ scope.row.studProfessionalName }}</span>
           </template>
          </el-table-column>
          <el-table-column 
          label="定制需求"
          width="100">
          <template slot-scope="scope">
            <span>{{ scope.row.studCourse.explained }}</span>
          </template>
         </el-table-column>
         <el-table-column 
         label="确认函状态"
         width="100">
         <template slot-scope="scope">
            <el-tag v-if='scope.row.purchaseStatused===null'>未填写</el-tag>
            <el-tag type="success" v-if='scope.row.purchaseStatused===0'>未发送</el-tag>
            <el-tag type="info" v-if='scope.row.purchaseStatused===1'>已发送未确认</el-tag>
            <el-tag type="warning" v-if='scope.row.purchaseStatused===2'>支付成功</el-tag>
            <el-tag type="danger" v-if='scope.row.purchaseStatused===3'>过期失效</el-tag>
            <el-tag v-if='scope.row.purchaseStatused===4'>已结课</el-tag>
         </template>
        </el-table-column>
            <el-table-column 
            label="接单时间"
            width="100">
            <template slot-scope="scope">
              <span>{{ scope.row.createAt }}</span>
            </template>
            </el-table-column>
            <el-table-column label="操作确认函" 
                width="580">
                <template slot-scope="scope">  
                    <el-button size="mini" @click="send(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===0">发送</el-button>
                    <el-button size="mini" disabled @click="changetext(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===null||scope.row.purchaseStatused===1||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4">发送</el-button>
                    <el-button size="mini" @click="changetext(scope.row,scope.$index)" v-if="scope.row.statused>=4||scope.row.purchaseStatused!==null">修改</el-button> 
                    <el-button size="mini" disabled @click="changetext(scope.row,scope.$index)" v-if="scope.row.statused<4&&scope.row.purchaseStatused===null">修改</el-button> 
                  <!-- <el-button size="mini" @click="changetext(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===0||scope.row.purchaseStatused===1">修改</el-button> 
                  <el-button size="mini" type="danger" plain disabled @click="changetext(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===null||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4">修改</el-button> 
                  <el-button size="mini" @click="seetext(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===null">填写</el-button> 
                  <el-button size="mini" type="primary" plain disabled @click="changetext(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===0||scope.row.purchaseStatused===1||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4">填写</el-button> 
                  <el-button size="mini" @click="send(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===0">发送</el-button>
                  <el-button size="mini" type="warning" plain disabled @click="changetext(scope.row,scope.$index)" v-if="scope.row.purchaseStatused===null||scope.row.purchaseStatused===1||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4">发送</el-button>  
                  <el-button size="mini" @click="apply(scope.row,scope.$index)">坏单申请</el-button> 
                  <el-button size="mini" @click="dialogVisible(scope.row,scope.$index)">上传文件</el-button>     -->
                  <!-- <el-button size="mini" @click="changetext(scope.row,scope.$index)" v-if="scope.row.statused<4&&(scope.row.purchaseStatused===0||scope.row.purchaseStatused===1)">查看</el-button>  -->
                  <!-- <el-button size="mini" disabled v-if="scope.row.purchaseStatused===null||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4||scope.row.statused>4">查看</el-button>  -->
                  <el-button size="mini" @click="seetext(scope.row,scope.$index)" v-if="scope.row.statused<4&&scope.row.purchaseStatused===null">填写</el-button> 
                  <el-button size="mini" disabled v-if="scope.row.purchaseStatused===0||scope.row.purchaseStatused===1||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4||scope.row.statused>4">填写</el-button> 
                  <!-- <el-button size="mini" @click="send(scope.row,scope.$index)" v-if="scope.row.statused<4&&scope.row.purchaseStatused===0">发送</el-button>
                  <el-button size="mini" disabled v-if="scope.row.purchaseStatused===null||scope.row.purchaseStatused===1||scope.row.purchaseStatused===2||scope.row.purchaseStatused===3||scope.row.purchaseStatused===4||scope.row.statused>4">发送</el-button>   -->
                  <el-button size="mini" disabled v-if="scope.row.statused>4">坏单申请</el-button> 
                  <el-button size="mini" @click="apply(scope.row,scope.$index)" v-if="scope.row.statused<=4">坏单申请</el-button> 
                  <el-button size="mini" disabled v-if="scope.row.statused>8">上传文件</el-button>    
                  <el-button size="mini" @click="dialogVisible(scope.row,scope.$index)" v-if="scope.row.statused<=8">上传文件</el-button>  
                  <el-button size="mini" @click="sees(scope.row,scope.$index)">查看详情</el-button>   
                </template> 
            </el-table-column> 
            </el-table>
            <el-dialog
            :visible.sync="badmodel"
            width="40%">
            <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="80px" class="demo-ruleForm">
                <el-form-item label="反馈类型" prop="extype">
                    <el-select v-model="ruleForm.extype" placeholder="选择反馈类型">
                      <el-option label="价格不符" value="1"></el-option>
                      <el-option label="师资资源" value="2"></el-option>
                      <el-option label="客户意向不足" value="3"></el-option>
                      <el-option label="其他" value="4"></el-option>
                    </el-select>
                </el-form-item>
                <el-form-item label="理由" prop="description">
                  <el-input v-model="ruleForm.description"></el-input>
                </el-form-item>
            </el-form>
            <span slot="footer" class="dialog-footer">
              <el-button type="primary" @click="submitForm('ruleForm')">确 定</el-button>
            </span>
          </el-dialog>
            <el-pagination
            style="margin-top:15px"
             @size-change="handleSizeChange"
             @current-change="handleCurrentChange"
             :current-page="currentPage"
             :page-sizes="[6]"
             :page-size="6"
             layout="total, sizes, prev, pager, next, jumper"
             :total="total">
            </el-pagination>
        </div>
        <div v-show="!showList">
        <template>
            <el-tabs v-model="activeName" @tab-click="handleClick">
              <el-tab-pane label="学生信息" name="first"></el-tab-pane>
              <el-tab-pane label="订单信息" name="second"></el-tab-pane>
            </el-tabs>
          </template>
          <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="180px" style="width:980px;" class="demo-ruleForm">
              <div v-show="!showa">
                  <el-form-item label="学生姓名" prop="nickName">
                    <el-input v-model="ruleForm.nickName" placeholder="请输入学生姓名"></el-input>
                  </el-form-item>
                  <el-form-item label="微信号" prop="wxAccount">
                    <el-input v-model="ruleForm.wxAccount" placeholder="请输入微信号"></el-input>
                  </el-form-item>
                  <el-form-item label="留学国家" prop="countryId">
                      <el-select v-model="ruleForm.countryId" filterable placeholder="请选择留学国家" v-bind:disabled="disabledInput" @change="change_state">
                      <el-option
                      v-for="item in countrys"
                      :key="item.id"
                      :label="item.name"
                      :value="item.id">
                      </el-option>
                    </el-select>
                    <el-button type="primary" @click="display">修改</el-button>
                  </el-form-item>
                  <el-form-item label="学校" prop="universityId">
                      <el-select v-model="ruleForm.universityId" filterable placeholder="请选择学校" @change="change1">
                      <el-option
                      v-for="item in universitys"
                      :key="item.id"
                      :label="item.name"
                      :value="item.id">
                      </el-option>
                    </el-select>
                    <el-input v-model="ruleForm.school1" v-show="see" style="width:200px;" :disabled="true"></el-input>
                  </el-form-item>
                  <el-form-item label="专业" prop="professionalId">
                      <el-select v-model="ruleForm.professionalId" filterable placeholder="请选择专业" @change="change2">
                      <el-option
                      v-for="item in professionalNames"
                      :key="item.id"
                      :label="item.name"
                      :value="item.id">
                      </el-option>
                    </el-select>
                    <el-input v-model="ruleForm.zy1" v-show="see" style="width:200px;" :disabled="true"></el-input>
                  </el-form-item>
                  <el-form-item label="学年" prop="schoolYear">
                    <el-input v-model="ruleForm.schoolYear" placeholder="请输入学年"></el-input>
                  </el-form-item>
                  <el-form-item label="考试时间" required>
                    <el-col :span="11">
                      <el-form-item prop="examTime">
                        <el-date-picker type="date" :picker-options="pickerOptions" placeholder="选择日期" v-model="ruleForm.examTime" value-format="yyyy-MM-dd HH:mm:ss" style="width: 100%;"></el-date-picker>
                      </el-form-item>
                    </el-col>
                  </el-form-item>
                  <el-form-item label="期望结课时间" required>
                    <el-col :span="11">
                      <el-form-item prop="endCourseTime">
                        <el-date-picker type="date" :picker-options="pickerOptions" placeholder="选择日期" v-model="ruleForm.endCourseTime" value-format="yyyy-MM-dd HH:mm:ss" style="width: 100%;"></el-date-picker>
                      </el-form-item>
                    </el-col>
                  </el-form-item>
                  <el-form-item label="在读学历" prop="levelId">
                    <el-select v-model="ruleForm.levelId" placeholder="请选择在读学历">
                        <el-option
                        v-for="item in levels"
                        :key="item.id"
                        :label="item.name"
                        :value="item.id">
                        </el-option>
                    </el-select>
                  </el-form-item>
                  <el-form-item label="学校教务系统账号" prop="schoolAccount">
                    <el-input v-model="ruleForm.schoolAccount"></el-input>
                  </el-form-item>
                  <el-form-item label="学校教务系统密码" prop="schoolPws">
                    <el-input v-model="ruleForm.schoolPws"></el-input>
                  </el-form-item>
                  <el-form-item label="周一" prop="one" class="clearfix">
                    <div class="fl" style="width:33%;">
                      <el-time-select
                      placeholder="起始时间"
                      v-model="ruleForm.startTime1"
                      style="width:120px"
                      :picker-options="{
                        start: '08:00',
                        step: '00:15',
                        end: '12:00'
                      }">
                    </el-time-select>
                    <el-time-select
                      placeholder="结束时间"
                      v-model="ruleForm.endTime1"
                      style="width:120px"
                      :picker-options="{
                        start: '08:00',
                        step: '00:15',
                        end: '12:00',
                        minTime: ruleForm.startTime1
                      }">
                    </el-time-select>
                    </div>
                    <div class="fl" style="width:33%;">
                        <el-time-select
                        placeholder="起始时间"
                        v-model="ruleForm.startTime2"
                        style="width:120px"
                        :picker-options="{
                          start: '12:00',
                          step: '00:15',
                          end: '18:00'
                        }">
                      </el-time-select>
                      <el-time-select
                        placeholder="结束时间"
                        v-model="ruleForm.endTime2"
                        style="width:120px"
                        :picker-options="{
                          start: '12:00',
                          step: '00:15',
                          end: '18:00',
                          minTime: ruleForm.startTime2
                        }">
                      </el-time-select>
                      </div>
                      <div class="fl" style="width:33%;">
                          <el-time-select
                          placeholder="起始时间"
                          v-model="ruleForm.startTime3"
                          style="width:120px"
                          :picker-options="{
                            start: '18:00',
                            step: '00:15',
                            end: '24:00'
                          }">
                        </el-time-select>
                        <el-time-select
                          placeholder="结束时间"
                          v-model="ruleForm.endTime3"
                          style="width:120px"
                          :picker-options="{
                            start: '18:00',
                            step: '00:15',
                            end: '24:00',
                            minTime: ruleForm.startTime3
                          }">
                        </el-time-select>
                        </div>
                  </el-form-item>
                  <el-form-item label="周二" prop="two" class="clearfix">
                      <div class="fl" style="width:33%;">
                        <el-time-select
                        placeholder="起始时间"
                        v-model="ruleForm.startTime4"
                        style="width:120px"
                        :picker-options="{
                          start: '08:00',
                          step: '00:15',
                          end: '12:00'
                        }">
                      </el-time-select>
                      <el-time-select
                        placeholder="结束时间"
                        v-model="ruleForm.endTime4"
                        style="width:120px"
                        :picker-options="{
                          start: '08:00',
                          step: '00:15',
                          end: '12:00',
                          minTime: ruleForm.startTime4
                        }">
                      </el-time-select>
                      </div>
                      <div class="fl" style="width:33%;">
                          <el-time-select
                          placeholder="起始时间"
                          v-model="ruleForm.startTime5"
                          style="width:120px"
                          :picker-options="{
                            start: '12:00',
                            step: '00:15',
                            end: '18:00'
                          }">
                        </el-time-select>
                        <el-time-select
                          placeholder="结束时间"
                          v-model="ruleForm.endTime5"
                          style="width:120px"
                          :picker-options="{
                            start: '12:00',
                            step: '00:15',
                            end: '18:00',
                            minTime: ruleForm.startTime5
                          }">
                        </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select
                            placeholder="起始时间"
                            v-model="ruleForm.startTime6"
                            style="width:120px"
                            :picker-options="{
                              start: '18:00',
                              step: '00:15',
                              end: '24:00'
                            }">
                          </el-time-select>
                          <el-time-select
                            placeholder="结束时间"
                            v-model="ruleForm.endTime6"
                            style="width:120px"
                            :picker-options="{
                              start: '18:00',
                              step: '00:15',
                              end: '24:00',
                              minTime: ruleForm.startTime6
                            }">
                          </el-time-select>
                          </div>
                    </el-form-item>
                    <el-form-item label="周三" prop="three" class="clearfix">
                        <div class="fl" style="width:33%;">
                          <el-time-select
                          placeholder="起始时间"
                          v-model="ruleForm.startTime7"
                          style="width:120px"
                          :picker-options="{
                            start: '08:00',
                            step: '00:15',
                            end: '12:00'
                          }">
                        </el-time-select>
                        <el-time-select
                          placeholder="结束时间"
                          v-model="ruleForm.endTime7"
                          style="width:120px"
                          :picker-options="{
                            start: '08:00',
                            step: '00:15',
                            end: '12:00',
                            minTime: ruleForm.startTime7
                          }">
                        </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select
                            placeholder="起始时间"
                            v-model="ruleForm.startTime8"
                            style="width:120px"
                            :picker-options="{
                              start: '12:00',
                              step: '00:15',
                              end: '18:00'
                            }">
                          </el-time-select>
                          <el-time-select
                            placeholder="结束时间"
                            v-model="ruleForm.endTime8"
                            style="width:120px"
                            :picker-options="{
                              start: '12:00',
                              step: '00:15',
                              end: '18:00',
                              minTime: ruleForm.startTime8
                            }">
                          </el-time-select>
                          </div>
                          <div class="fl" style="width:33%;">
                              <el-time-select
                              placeholder="起始时间"
                              v-model="ruleForm.startTime9"
                              style="width:120px"
                              :picker-options="{
                                start: '18:00',
                                step: '00:15',
                                end: '24:00'
                              }">
                            </el-time-select>
                            <el-time-select
                              placeholder="结束时间"
                              v-model="ruleForm.endTime9"
                              style="width:120px"
                              :picker-options="{
                                start: '18:00',
                                step: '00:15',
                                end: '24:00',
                                minTime: ruleForm.startTime9
                              }">
                            </el-time-select>
                            </div>
                      </el-form-item>
                      <el-form-item label="周四" prop="four" class="clearfix">
                          <div class="fl" style="width:33%;"> 
                            <el-time-select
                            placeholder="起始时间"
                            v-model="ruleForm.startTime10"
                            style="width:120px"
                            :picker-options="{
                              start: '08:00',
                              step: '00:15',
                              end: '12:00'
                            }">
                          </el-time-select>
                          <el-time-select
                            placeholder="结束时间"
                            v-model="ruleForm.endTime10"
                            style="width:120px"
                            :picker-options="{
                              start: '08:00',
                              step: '00:15',
                              end: '12:00',
                              minTime: ruleForm.startTime10
                            }">
                          </el-time-select>
                          </div>
                          <div class="fl" style="width:33%;">
                              <el-time-select
                              placeholder="起始时间"
                              v-model="ruleForm.startTime11"
                              style="width:120px"
                              :picker-options="{
                                start: '12:00',
                                step: '00:15',
                                end: '18:00'
                              }">
                            </el-time-select>
                            <el-time-select
                              placeholder="结束时间"
                              v-model="ruleForm.endTime11"
                              style="width:120px"
                              :picker-options="{
                                start: '12:00',
                                step: '00:15',
                                end: '18:00',
                                minTime: ruleForm.startTime11
                              }">
                            </el-time-select>
                            </div>
                            <div class="fl" style="width:33%;">
                                <el-time-select
                                placeholder="起始时间"
                                v-model="ruleForm.startTime12"
                                style="width:120px"
                                :picker-options="{
                                  start: '18:00',
                                  step: '00:15',
                                  end: '24:00'
                                }">
                              </el-time-select>
                              <el-time-select
                                placeholder="结束时间"
                                v-model="ruleForm.endTime12"
                                style="width:120px"
                                :picker-options="{
                                  start: '18:00',
                                  step: '00:15',
                                  end: '24:00',
                                  minTime: ruleForm.startTime12
                                }">
                              </el-time-select>
                              </div>
                        </el-form-item>
                        <el-form-item label="周五" prop="five" class="clearfix">
                            <div class="fl" style="width:33%;">
                              <el-time-select
                              placeholder="起始时间"
                              v-model="ruleForm.startTime13"
                              style="width:120px"
                              :picker-options="{
                                start: '08:00',
                                step: '00:15',
                                end: '12:00'
                              }">
                            </el-time-select>
                            <el-time-select
                              placeholder="结束时间"
                              v-model="ruleForm.endTime13"
                              style="width:120px"
                              :picker-options="{
                                start: '08:00',
                                step: '00:15',
                                end: '12:00',
                                minTime: ruleForm.startTime13
                              }">
                            </el-time-select>
                            </div>
                            <div class="fl" style="width:33%;">
                                <el-time-select
                                placeholder="起始时间"
                                v-model="ruleForm.startTime14"
                                style="width:120px"
                                :picker-options="{
                                  start: '12:00',
                                  step: '00:15',
                                  end: '18:00'
                                }">
                              </el-time-select>
                              <el-time-select
                                placeholder="结束时间"
                                v-model="ruleForm.endTime14"
                                style="width:120px"
                                :picker-options="{
                                  start: '12:00',
                                  step: '00:15',
                                  end: '18:00',
                                  minTime: ruleForm.startTime14
                                }">
                              </el-time-select>
                              </div>
                              <div class="fl" style="width:33%;">
                                  <el-time-select
                                  placeholder="起始时间"
                                  v-model="ruleForm.startTime15"
                                  style="width:120px"
                                  :picker-options="{
                                    start: '18:00',
                                    step: '00:15',
                                    end: '24:00'
                                  }">
                                </el-time-select>
                                <el-time-select
                                  placeholder="结束时间"
                                  v-model="ruleForm.endTime15"
                                  style="width:120px"
                                  :picker-options="{
                                    start: '18:00',
                                    step: '00:15',
                                    end: '24:00',
                                    minTime: ruleForm.startTime15
                                  }">
                                </el-time-select>
                                </div>
                          </el-form-item>
                          <el-form-item label="周六" prop="six" class="clearfix">
                              <div class="fl" style="width:33%;">
                                <el-time-select
                                placeholder="起始时间"
                                v-model="ruleForm.startTime16"
                                style="width:120px"
                                :picker-options="{
                                  start: '08:00',
                                  step: '00:15',
                                  end: '12:00'
                                }">
                              </el-time-select>
                              <el-time-select
                                placeholder="结束时间"
                                v-model="ruleForm.endTime16"
                                style="width:120px"
                                :picker-options="{
                                  start: '08:00',
                                  step: '00:15',
                                  end: '12:00',
                                  minTime: ruleForm.startTime16
                                }">
                              </el-time-select>
                              </div>
                              <div class="fl" style="width:33%;">
                                  <el-time-select
                                  placeholder="起始时间"
                                  v-model="ruleForm.startTime17"
                                  style="width:120px"
                                  :picker-options="{
                                    start: '12:00',
                                    step: '00:15',
                                    end: '18:00'
                                  }">
                                </el-time-select>
                                <el-time-select
                                  placeholder="结束时间"
                                  v-model="ruleForm.endTime17"
                                  style="width:120px"
                                  :picker-options="{
                                    start: '12:00',
                                    step: '00:15',
                                    end: '18:00',
                                    minTime: ruleForm.startTime17
                                  }">
                                </el-time-select>
                                </div>
                                <div class="fl" style="width:33%;">
                                    <el-time-select
                                    placeholder="起始时间"
                                    v-model="ruleForm.startTime18"
                                    style="width:120px"
                                    :picker-options="{
                                      start: '18:00',
                                      step: '00:15',
                                      end: '24:00'
                                    }">
                                  </el-time-select>
                                  <el-time-select
                                    placeholder="结束时间"
                                    v-model="ruleForm.endTime18"
                                    style="width:120px"
                                    :picker-options="{
                                      start: '18:00',
                                      step: '00:15',
                                      end: '24:00',
                                      minTime: ruleForm.startTime18
                                    }">
                                  </el-time-select>
                                  </div>
                            </el-form-item>
                            <el-form-item label="周日" prop="seven" class="clearfix">
                                <div class="fl" style="width:33%;">
                                  <el-time-select
                                  placeholder="起始时间"
                                  v-model="ruleForm.startTime19"
                                  style="width:120px"
                                  :picker-options="{
                                    start: '08:00',
                                    step: '00:15',
                                    end: '12:00'
                                  }">
                                </el-time-select>
                                <el-time-select
                                  placeholder="结束时间"
                                  v-model="ruleForm.endTime19"
                                  style="width:120px"
                                  :picker-options="{
                                    start: '08:00',
                                    step: '00:15',
                                    end: '12:00',
                                    minTime: ruleForm.startTime19
                                  }">
                                </el-time-select>
                                </div>
                                <div class="fl" style="width:33%;">
                                    <el-time-select
                                    placeholder="起始时间"
                                    v-model="ruleForm.startTime20"
                                    style="width:120px"
                                    :picker-options="{
                                      start: '12:00',
                                      step: '00:15',
                                      end: '18:00'
                                    }">
                                  </el-time-select>
                                  <el-time-select
                                    placeholder="结束时间"
                                    v-model="ruleForm.endTime20"
                                    style="width:120px"
                                    :picker-options="{
                                      start: '12:00',
                                      step: '00:15',
                                      end: '18:00',
                                      minTime: ruleForm.startTime20
                                    }">
                                  </el-time-select>
                                  </div>
                                  <div class="fl" style="width:33%;">
                                      <el-time-select
                                      placeholder="起始时间"
                                      v-model="ruleForm.startTime21"
                                      style="width:120px"
                                      :picker-options="{
                                        start: '18:00',
                                        step: '00:15',
                                        end: '24:00'
                                      }">
                                    </el-time-select>
                                    <el-time-select
                                      placeholder="结束时间"
                                      v-model="ruleForm.endTime21"
                                      style="width:120px"
                                      :picker-options="{
                                        start: '18:00',
                                        step: '00:15',
                                        end: '24:00',
                                        minTime: ruleForm.startTime21
                                      }">
                                    </el-time-select>
                                    </div>
                              </el-form-item>
                              <el-button type="primary" @click="next()" style="margin-left:50%;">下一步</el-button>
                </div>
              <div v-show="!showb">
                  <el-form-item label="课程名称" prop="courseName">
                      <el-input v-model="ruleForm.courseName"></el-input>
                    </el-form-item>
                    <el-form-item label="课程代码" prop="courseCode">
                      <el-input v-model="ruleForm.courseCode"></el-input>
                    </el-form-item>
                    <el-form-item label="订单类型" prop="type">
                      <el-select v-model="ruleForm.type" placeholder="请选择订单类型" @change="change_order">
                        <el-option label="定制辅导" value="0"></el-option>
                        <el-option label="考前突击" value="1"></el-option>
                        <el-option label="包课辅导" value="2"></el-option>
                        <el-option label="论文辅导" value="4"></el-option>
                        <el-option label="特殊订单" value="32"></el-option>
                      </el-select>
                    </el-form-item>
                    <el-form-item label="预计课时" prop="scheduledTime" v-show = "order">
                      <el-input v-model="ruleForm.scheduledTime" @blur="changeprice()" style="width:210px;"></el-input>
                    </el-form-item>
                    <el-form-item label="课时单价" prop="price" v-show = "order">
                      <el-input v-model="ruleForm.price" @blur="changeprice()" style="width:210px;"></el-input>
                      <el-button disabled v-model="ruleForm.currency">{{cu.currency}}</el-button>
                    </el-form-item>
                    <el-form-item label="课时总价" prop="totalPrice">
                      <el-input v-model="ruleForm.totalPrice" style="width:210px;" v-bind:disabled="dis"></el-input>
                      <el-button disabled v-model="ruleForm.currency">{{cu.currency}}</el-button>
                    </el-form-item>
                    <el-form-item label="课程熟悉度" prop="courseFamiliarityId">
                      <el-select v-model="ruleForm.courseFamiliarityId" placeholder="请选择课程熟悉度">
                        <el-option
                        v-for="item in courseFamiliaritys"
                        :key="item.id"
                        :label="item.familiarityName"
                        :value="item.id">
                        </el-option>
                      </el-select>
                    </el-form-item>
                    <el-form-item label="辅导需求描述" prop="sellerDemandDesc">
                      <el-input type="textarea" v-model="ruleForm.sellerDemandDesc"></el-input>
                    </el-form-item>
                    <el-table 
                    :data="extStudCoursewareList"
                    ref="multipleTable"
                    border
                    style="width: 100%;margin-top:5px;"
                    @selection-change="handleSelectionChange">
                    <el-table-column
                    label="id"
                    width="50">
                    <template slot-scope="scope">
                      <span>{{ scope.row.id }}</span>
                    </template>
                  </el-table-column>
                  <el-table-column
                  label="分组名称"
                  width="100">
                  <template slot-scope="scope">
                    <span>{{ scope.row.groupName }}</span>
                  </template>
                </el-table-column>
                <el-table-column
                label="文件名称"
                width="200">
                <template slot-scope="scope">
                  <span>{{ scope.row.name }}</span>
                </template>
                </el-table-column>
                <el-table-column
                label="文件类型"
                width="200">
                <template slot-scope="scope">
                  <span>{{ scope.row.type }}</span>
                </template>
                </el-table-column>
                <el-table-column
                label="文件地址"
                width="100">
                <template slot-scope="scope">
                  <a :href="scope.row.url">查看</a>
                </template>
                </el-table-column>
                  </el-table>
                    <el-form-item label="课件列表">
                      <el-button size="mini" @click="upfile()">上传文件</el-button> 
                    </el-form-item>
                    <el-form-item>
                <el-form-item>
                  <el-button type="primary" v-show="!show" @click="update('ruleForm')">修改</el-button>
                  <el-button type="primary" v-show="!show1" @click="save('ruleForm')">创建</el-button>
                  <el-button type="primary" @click="back">返回</el-button>
                </el-form-item>
              </div>
          </el-form>
            </div>
          </div>
        </div>
</body>
  <script src="js/jquery.js"></script>
  <script src="js/vue.js"></script>
  <script src="js/index.js"></script>
  <script src="../../js/base.js"></script>
  <script type="text/javascript">  
  var vm = new Vue({  
    el:'#app',
    data() {
      return {
        pickerOptions: {
        disabledDate(time) {
          return time.getTime() < Date.now() - 8.64e7;
        }
      }, 
      countryId:'',
        wxAccount:'',
        see:true,
        id1:'',
        id2:'',
        forbidden:false,
        dis:true, 
        order:false,
        cu:{},  
        disabledInput:true, 
        professionalNames:'',
        countrys:'',
      showList: true,
      showa:false,
      showb:true,
      activeName: 'first',
      dialogFormVisible2:false,
      show: true,
      show1: true,
      show2: true,
      show3: true,
      purchaseOrderId:'',
      demands:'',
      levels:'',
      universitys:'',
      courses:'',
      courseId:'',
      totalPrice:'',
      currencys:"",
      currency:'',
      change_courseFamiliaritys:'',
      courseFamiliaritys:'',
      tableDataBegin: [],
      tableDataName: "",
      tableDataEnd: [],
      extStudCoursewareList:[],
      currentPage: 0,
      pageSize: 0,
      total:0,
      courseFamiliarity:'',
      idss:[],
      badmodel:false,
      options:[],
      selectedOptions: [],
      name:'',
      label:'',
      sellerDemandDesc:'',
      description:'',
      dialogStatus: "",
      currencylabel:'',
      currencyvalue:'',
      extype:'',
      ruleForm: {
        wxAccount:'',
        professionalId:'',
        sellerDemandDesc:'',
        currency:'',
        nickName:'',
        totalPrice:'',
          courseId: '',
          startTime1: '',
          endTime1: '',
          universityId:'',
          demandTypeId:'',
          levelId:'',
          examTime:'',
          endCourseTime:'',
          type:'',
          courseFamiliarityId:'',
      startTime2: '',
      endTime2: '',
      startTime3: '',
      endTime3: '',
      startTime4: '',
      endTime4: '',
      startTime5: '', 
      endTime5: '',
      startTime6: '',
      endTime6: '',
      startTime7: '',
      endTime7: '',
      startTime8: '',
      endTime8: '',
      startTime9: '',
      endTime9: '',
      startTime10: '',
      endTime10: '',
      startTime11: '',
      endTime11: '',
      startTime12: '',
      endTime12: '',
      startTime13: '',
      endTime13: '',
      startTime14: '',
      endTime14: '',
      startTime15: '',
      endTime15: '',
      startTime16: '',
      endTime16: '',
      startTime17: '',
      endTime17: '',
      startTime18: '',
      endTime18: '',
      startTime19: '',
      endTime19: '',
      startTime20: '',
      endTime20: '',
      startTime21: '',
      endTime21: '',
      familiarity:'',
        },
        rules: {
          wxAccount: [
            { required: true, message: '请输入微信号', trigger: 'blur' },
          ],
          courseName: [
            { required: true, message: '请输入课程名称', trigger: 'blur' },
          ],
          courseCode: [
            { required: true, message: '请输入课程编号', trigger: 'blur' },
          ],
          type: [
          { required: true, message: '请选择订单类型', trigger: 'change' },
          ],
          sellerDemandDesc: [
          { required: true, message: '请输入学生辅导需求', trigger: 'blur' },
          ],
          description: [
          { required: true, message: '请输入理由', trigger: 'blur' },
          ], 
          extype: [
          { required: true, message: '请选择类型', trigger: 'change' },
          ], 
          totalPrice: [
            { required: true, message: '请填写课程总价', trigger: 'blur' }
          ],
          courseFamiliarityId: [
            { required: true, message: '请选择课程熟悉度', trigger: 'change' },
          ],
          nickName: [
            { required: true, message: '请输入学生姓名', trigger: 'blur' },
          ],
          universityId: [
          { required: true, message: '请选择学校', trigger: 'change' },
          ],
          countryId: [
            { required: true, message: '请选择留学国家', trigger: 'change' },
          ],
          professionalId: [
            { required: true, message: '请选择专业名称', trigger: 'change' },
          ],
          schoolYear: [
          { required: true, message: '请输入学年', trigger: 'blur' },
          ],
          examTime: [
          { required: true, message: '请输入考试时间', trigger: 'blur' },
          ],
          endCourseTime: [
          { required: true, message: '请输入期望节课时间', trigger: 'blur' },
          ],
          levelId: [
          { required: true, message: '请选择学术级别', trigger: 'change' },
          ],
          schoolAccount: [
          { required: true, message: '请输入学校教务系统账号', trigger: 'blur' },
          ],
          schoolPws: [
          { required: true, message: '请输入学校教务系统密码', trigger: 'blur' },
          ]
        }
      }
 },
 multipleSelection: [],
  mounted() {
  this.getcountrys();   
  this.getTableData(); 
  this.coursedata();
  this.level(); 
  this.demand(); 
  this.get_currency(); 
  this.get_courseFamiliarity(); 
  this.professionalNamedata();
 },
 methods: {
  dialogVisible(row,_index){
  vm.idfile = row.courseId;
  this.dialogFormVisible2=true;
}, 
upfile(){
  this.dialogFormVisible2=true;
},
professionalNamedata(){
    $.ajax({  
      type : "get",  
      dataType: "json", 
      data:{
        "token": token,
        "page": 1,
        "limit": 1000
      } ,
      url : ""+baseURL+"sys/basedata/professionalCourses/list",  
      success : function(json) {  
        vm.professionalNames = json.body.list;
      }
  });
  },

  change_order(val){
    if(val == 0){
      vm.order = true;
      vm.dis = true;
    }else{
      vm.order = false;
      vm.currency = null;
      vm.dis = false;
    }
  },   
change_course(courseid){
vm.courseid = courseid;
 },
 getcountrys(){
    $.ajax({  
      type : "get",  
      dataType: "json", 
      data:{
        "token": token,
        "page": 1,
        "limit": 1000
      } ,
      url : ""+baseURL+"sys/basedata/country/list",  
      success : function(json) {  
        vm.countrys = json.body.list;
      }
  });
  },
coursedata(){
    $.ajax({
        type: "get",
        url: ""+baseURL+"sys/seller/courseware/groupList",
        dataType: "json", 
        data: {
          "token": token,
          "page": 1,
          "limit": 1000
          },
          success: function(r){
            vm.courses = r.body.list;
        }
    });
  },
  rowClass({row}){
    if(row.statused === 16 || row.statused === 32 || row.statused === 128){
      return 'color1'
    }
  },
submitForm2(formName) {
    var self = this;
    this.$refs[formName].validate((valid) => {
          if (valid) {
            //var file=$("#img_upload")[0].files[0];
            var file = document.getElementById('img_upload').files;
            //var file=$("#img_upload").files;
            if(file==null)
                return;    
            var name = this.$refs.ruleForm.model.name;    
            var course = this.$refs.ruleForm.model.course; 
            var formData=new FormData();
            for(i=0;i<file.length;i++){  
              formData.append("file["+i+"]", file[i]);
            }
            // formData.append('file',file);
            formData.append('name',name);
            formData.append('cdId',vm.idfile);
            formData.append('groupId',vm.courseid);
            var token = localStorage.getItem("token");
            $.ajax({
              headers: {"token": token},
                url:""+baseURL+"sys/seller/courseware/save",
                type:'POST',
                processData: false,
                contentType: false,
                data:formData,
                mimeType: "multipart/form-data",
                success: function(r){
                  // r = JSON.parse(r);
                  status  = r.status;
                  if(status == 200){
                    vm.$message({
                    message: '上传课件成功',
                    type: 'success'
                  });
                  vm.dialogFormVisible2 = false;
                  }
                  if(status == 400){
                    vm.$message({
                    message: r.body.msg,
                    type: 'warning'
                  });
                  vm.dialogFormVisible2 = false;
                  }
              }
            });
          }
        });

      }, 
  getTableData:function(){ 
        var self = this;  
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": 1,
            "limit": 6,
            "statused" : 47,
            "onlyMe": true
          } ,
          url : ""+baseURL+"sys/seller/order/list",  
          success : function(json) {  
           self.tableDataEnd=json.body.list;  
           self.total = json.body.totalCount;
           self.pageSize = json.body.totalCount;
           self.currentPage = json.body.currPage;
         } 
      });    
      },
      changeprice(){
        var num = Number(vm.ruleForm.scheduledTime);
        var price = Number(vm.ruleForm.price);
        if(num == "" && price == ""){

        }else{
          vm.ruleForm.totalPrice = num*price;
        }
      },
      get_courseFamiliarity(){
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": 1,
            "limit": 6,
            "onlyMe": true
          } ,
          url : ""+baseURL+"sys/basedata/coursefamiliarity/list",  
          success : function(json) {  
            vm.courseFamiliaritys = json.body.list;
         } 
      }); 
      },
      href(){
        window.location.href = 'creat_qrh.html';
      },
      // 修改
      changetext:function(row,index){
        if(row.statused>4){
          vm.show = true;
        }
        vm.see = false;
        vm.purchaseOrderId = row.purchaseOrderId;
        vm.courseId = row.courseId;
        vm.idfile = row.courseId;
        id = row.id;
        courseId = row.courseId;
        $.ajax({  
          type : "GET",  
          dataType: "json", 
          headers: {"token": token},
          data:{
          } ,
          url : ""+baseURL+"sys/seller/order/findPurOrderInfo/"+courseId+"",  
          success : function(json) {
            if(json.status == 400){
              vm.$message({
              message: "请填写确认函",
              type: 'warning'
            });
            } else{
              vm.showList = false;
              vm.show = false;
              vm.show1 = true;
              vm.show2 = false;
              // vm.ruleForm = json.body;
              var courseFamiliarityId = json.body.courseFamiliarityId;
              var type = json.body.type;
              vm.extStudCoursewareList = json.body.extStudCoursewareList;
              vm.cu = json.body;
              vm.ruleForm.type = ""+type+"";
              if(json.body.type == 0){
                vm.order = true;
                vm.dis = true;
              }else{
                vm.order = false;
                vm.dis = false;
              }
              vm.ruleForm.wxAccount = json.body.wxAccount;
              vm.ruleForm.professionalId = json.body.professionalId;
              vm.ruleForm.countryId =  json.body.countryId;
              vm.countryId =  json.body.countryId;
              vm.xx(); 
              vm.ruleForm.courseName = json.body.courseName;
              vm.ruleForm.courseId = json.body.courseId;
              vm.ruleForm.courseCode = json.body.courseCode;
              vm.ruleForm.scheduledTime = json.body.scheduledTime;
              vm.ruleForm.price = json.body.price;
              vm.ruleForm.totalPrice = json.body.totalPrice;
              vm.ruleForm.currencyId = json.body.currencyId;
              vm.ruleForm.currency = json.body.currency;
              vm.ruleForm.nickName = json.body.studName;
              vm.ruleForm.universityId = json.body.universityId;
              vm.currencyvalue = json.body.currencyId;
              vm.currencylabel = json.body.currency;
              vm.ruleForm.levelId = json.body.eduName;
              vm.ruleForm.schoolYear = json.body.schoolYear;
              vm.ruleForm.examTime = json.body.examTime;
              vm.ruleForm.endCourseTime = json.body.endCourseTime;
              vm.ruleForm.courseFamiliarityId = courseFamiliarityId;
              vm.ruleForm.courseFamiliarity = courseFamiliarityId;
              vm.ruleForm.demandTypeId = json.body.demandTypeId;
              vm.ruleForm.schoolAccount = json.body.schoolAccount;
              vm.ruleForm.schoolPws = json.body.schoolPws;
              vm.ruleForm.sellerDemandDesc = json.body.sellerDemandDesc;
              var spareTime = json.body.spareTime;
              var spareTimes = spareTime.split("|"); // 以|分割为每周的时间
              var spareTime_1 = spareTimes[0];       // 周一的时间
              var spareTime_week1s = spareTime_1.split(",");//以，分割为每天的早中晚时间
              var spareTime1q = spareTime_week1s[0];// 周一早上的时间
              var ts1 = spareTime1q.split("-");
              var t1s = ts1[0];
              var t1e = ts1[1];
              vm.ruleForm.startTime1 = t1s;
              vm.ruleForm.endTime1 = t1e;
              var spareTime1w = spareTime_week1s[1];//周一中午的时间
              var ts2 = spareTime1w.split("-");
              var t2s = ts2[0];
              var t2e = ts2[1];
              vm.ruleForm.startTime2 = t2s;
              vm.ruleForm.endTime2 = t2e;
              var spareTime1e = spareTime_week1s[2];//周一下午午的时间
              var ts3 = spareTime1e.split("-");
              var t3s = ts3[0];
              var t3e = ts3[1];
              vm.ruleForm.startTime3 = t3s;
              vm.ruleForm.endTime3 = t3e;
              //周二
              var spareTime_2 = spareTimes[1];       // 周二的时间
              var spareTime_week2s = spareTime_2.split(",");//以，分割为每天的早中晚时间
              var spareTime2q = spareTime_week2s[0];// 周二早上的时间
              var ts4 = spareTime2q.split("-");
              var t4s = ts4[0];
              var t4e = ts4[1];
              vm.ruleForm.startTime4 = t4s;
              vm.ruleForm.endTime4 = t4e;
              var spareTime2w = spareTime_week2s[1];//周二中午的时间
              var ts5 = spareTime2w.split("-");
              var t5s = ts5[0];
              var t5e = ts5[1];
              vm.ruleForm.startTime5 = t5s;
              vm.ruleForm.endTime5 = t5e;
              var spareTime2e = spareTime_week2s[2];//周二下午午的时间
              var ts6 = spareTime2e.split("-");
              var t6s = ts6[0];
              var t6e = ts6[1];
              vm.ruleForm.startTime6 = t6s;
              vm.ruleForm.endTime6 = t6e;
              //周三
              var spareTime_3 = spareTimes[2];       // 周三的时间
              var spareTime_week3s = spareTime_3.split(",");//以，分割为每天的早中晚时间
              var spareTime3q = spareTime_week3s[0];// 周三早上的时间
              var ts7 = spareTime3q.split("-");
              var t7s = ts7[0];
              var t7e = ts7[1];
              vm.ruleForm.startTime7 = t7s;
              vm.ruleForm.endTime7 = t7e;
              var spareTime3w = spareTime_week3s[1];//周三中午的时间
              var ts8 = spareTime3w.split("-");
              var t8s = ts8[0];
              var t8e = ts8[1];
              vm.ruleForm.startTime8 = t8s;
              vm.ruleForm.endTime8 = t8e;
              var spareTime3e = spareTime_week3s[2];//周三下午午的时间
              var ts9 = spareTime3e.split("-");
              var t9s = ts9[0];
              var t9e = ts9[1];
              vm.ruleForm.startTime9 = t9s;
              vm.ruleForm.endTime9 = t9e;
              //周四
              var spareTime_4 = spareTimes[3];       // 周四的时间
              var spareTime_week4s = spareTime_4.split(",");//以，分割为每天的早中晚时间
              var spareTime4q = spareTime_week4s[0];// 周四早上的时间
              var ts10 = spareTime4q.split("-");
              var t10s = ts10[0];
              var t10e = ts10[1];
              vm.ruleForm.startTime10 = t10s;
              vm.ruleForm.endTime10 = t10e;
              var spareTime4w = spareTime_week4s[1];//周四中午的时间
              var ts11 = spareTime4w.split("-");
              var t11s = ts11[0];
              var t11e = ts11[1];
              vm.ruleForm.startTime11 = t11s;
              vm.ruleForm.endTime11 = t11e;
              var spareTime4e = spareTime_week4s[2];//周四下午午的时间
              var ts12 = spareTime4e.split("-");
              var t12s = ts12[0];
              var t12e = ts12[1];
              vm.ruleForm.startTime12 = t12s;
              vm.ruleForm.endTime12 = t12e;
              //周五
              var spareTime_5 = spareTimes[4];       // 周五的时间
              var spareTime_week5s = spareTime_5.split(",");//以，分割为每天的早中晚时间
              var spareTime5q = spareTime_week5s[0];// 周五早上的时间
              var ts13 = spareTime5q.split("-");
              var t13s = ts13[0];
              var t13e = ts13[1];
              vm.ruleForm.startTime13 = t13s;
              vm.ruleForm.endTime13 = t13e;
              var spareTime5w = spareTime_week5s[1];//周五中午的时间
              var ts14 = spareTime5w.split("-");
              var t14s = ts14[0];
              var t14e = ts14[1];
              vm.ruleForm.startTime14 = t14s;
              vm.ruleForm.endTime14 = t14e;
              var spareTime5e = spareTime_week5s[2];//周五下午午的时间
              var ts15 = spareTime5e.split("-");
              var t15s = ts15[0];
              var t15e = ts15[1];
              vm.ruleForm.startTime15 = t15s;
              vm.ruleForm.endTime15 = t15e;
              //周六
              var spareTime_6 = spareTimes[5];       // 周六的时间
              var spareTime_week6s = spareTime_6.split(",");//以，分割为每天的早中晚时间
              var spareTime6q = spareTime_week6s[0];// 周六早上的时间
              var ts16 = spareTime6q.split("-");
              var t16s = ts16[0];
              var t16e = ts16[1];
              vm.ruleForm.startTime16 = t16s;
              vm.ruleForm.endTime16 = t16e;
              var spareTime6w = spareTime_week6s[1];//周六中午的时间
              var ts17 = spareTime6w.split("-");
              var t17s = ts17[0];
              var t17e = ts17[1];
              vm.ruleForm.startTime17 = t17s;
              vm.ruleForm.endTime17 = t17e;
              var spareTime6e = spareTime_week6s[2];//周六下午午的时间
              var ts18 = spareTime6e.split("-");
              var t18s = ts18[0];
              var t18e = ts18[1];
              vm.ruleForm.startTime18 = t18s;
              vm.ruleForm.endTime18 = t18e;
              //周日
              var spareTime_7 = spareTimes[6];       // 周日的时间
              var spareTime_week7s = spareTime_7.split(",");//以，分割为每天的早中晚时间
              var spareTime7q = spareTime_week7s[0];// 周六早上的时间
              var ts19 = spareTime7q.split("-");
              var t19s = ts19[0];
              var t19e = ts19[1];
              vm.ruleForm.startTime19 = t19s;
              vm.ruleForm.endTime19 = t19e;
              var spareTime7w = spareTime_week7s[1];//周六中午的时间
              var ts20 = spareTime7w.split("-");
              var t20s = ts20[0];
              var t20e = ts20[1];
              vm.ruleForm.startTime20 = t20s;
              vm.ruleForm.endTime20 = t20e;
              var spareTime7e = spareTime_week7s[2];//周六下午午的时间
              var ts21 = spareTime7e.split("-");
              var t21s = ts21[0];
              var t21e = ts21[1];
              vm.ruleForm.startTime21 = t21s;
              vm.ruleForm.endTime21 = t21e;
            }

          }
      });
      },

      seetext(row,index){
        vm.ruleForm.nickName = row.studCourse.callName;
        vm.ruleForm.wxAccount = row.studCourse.wxAccount;
        vm.idfile = row.courseId;
        vm.showList = false;
        vm.show1 = false;
        vm.show3 = false;
        vm.userId = row.studCourse.userId;
        vm.courseId = row.courseId;
        this.$refs.ruleForm.model.school1 = row.studCourse.schoolName;
        this.$refs.ruleForm.model.zy1 = row.studProfessionalName;
        this.getstudinfo();
      },
      getstudinfo(){
    $.ajax({  
      type : "get",  
      dataType: "json", 
      data:{
        "token": token,
        "studId": vm.userId
      } ,
      url : ""+baseURL+"/sys/seller/order/findUserInfo",  
      success : function(json) { 
        //vm.ruleForm.nickName = json.body.nickName;
        vm.ruleForm.countryId = json.body.countryId;
        vm.countryId = json.body.countryId;
        vm.xx();
        vm.ruleForm.currency = json.body.currency;
        vm.ruleForm.universityId = json.body.universityName;
        vm.ruleForm.professionalId = json.body.professionalName;
        vm.id1 = json.body.universityId;
        vm.id2 = json.body.professionalId;
        vm.ruleForm.schoolYear = json.body.schoolYear;
        vm.ruleForm.levels = json.body.eduId;
        vm.cu = json.body;
        //vm.ruleForm.wxAccount = json.body.wxAccount;

      }
  });
  },  
  change1(val){
    vm.id1 = val
  } ,   
  change2(val){
    vm.id2 = val
  } , 
 openData() {this.getTableData();},
 handleSizeChange(val) {
  console.log(`每页 ${val} 条`);
  this.pageSize = val;
  this.handleCurrentChange(this.currentPage);
 },
 change_state(val){
    vm.disabledInput=true;
    let obj = {};
    obj = this.countrys.find((item)=>{
        return item.id === val;
    });
    vm.cu = obj;
    vm.countryId = val;
    vm.xx();
  },
  
  xx(){
        var self = this;  
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": 1,
            "limit": 1000,
            "countryId": this.countryId
          } ,
          url : ""+baseURL+"sys/basedata/university/list",  
          success : function(json) {  
            vm.universitys = json.body.list;
          }
      });
      }, 
 handleClick(tab, first) {
  var val = tab.index;
  console.log(val);
  if(val == 0){
    vm.showa = false;
    vm.showb = true;
  }else{
    vm.showa = true;
    vm.showb = false;
  }
},
display(){
    this.$confirm('是否要执行此操作?', '提示', {
          confirmButtonText: '确定',
          cancelButtonText: '取消',
          type: 'warning'
        }).then(() => {
          vm.disabledInput=false;
        }).catch(() => {

        });
  },
  sees(row,index){
    window.open( "seller_detail.html?id="+row.courseId+"");
  },
// 更新
update(formName) {
        var model = this.$refs.ruleForm.model;
        var startTime1 = this.$refs.ruleForm.model.startTime1;
        var endTime1 = this.$refs.ruleForm.model.endTime1;
        var startTime2 = this.$refs.ruleForm.model.startTime2;
        var endTime2 = this.$refs.ruleForm.model.endTime2;
        var startTime3 = this.$refs.ruleForm.model.startTime3;
        var endTime3 = this.$refs.ruleForm.model.endTime3;
        var startTime4 = this.$refs.ruleForm.model.startTime4;
        var endTime4 = this.$refs.ruleForm.model.endTime4;
        var startTime5 = this.$refs.ruleForm.model.startTime5;
        var endTime5 = this.$refs.ruleForm.model.endTime5;
        var startTime6 = this.$refs.ruleForm.model.startTime6;
        var endTime6 = this.$refs.ruleForm.model.endTime6;
        var startTime7 = this.$refs.ruleForm.model.startTime7;
        var endTime7 = this.$refs.ruleForm.model.endTime7;
        var startTime8 = this.$refs.ruleForm.model.startTime8;
        var endTime8 = this.$refs.ruleForm.model.endTime8;
        var startTime9 = this.$refs.ruleForm.model.startTime9;
        var endTime9 = this.$refs.ruleForm.model.endTime9;
        var startTime10 = this.$refs.ruleForm.model.startTime10;
        var endTime10 = this.$refs.ruleForm.model.endTime10;
        var startTime11 = this.$refs.ruleForm.model.startTime11;
        var endTime11 = this.$refs.ruleForm.model.endTime11;
        var startTime12 = this.$refs.ruleForm.model.startTime12;
        var endTime12 = this.$refs.ruleForm.model.endTime12;
        var startTime13 = this.$refs.ruleForm.model.startTime13;
        var endTime13 = this.$refs.ruleForm.model.endTime13;
        var startTime14 = this.$refs.ruleForm.model.startTime14;
        var endTime14 = this.$refs.ruleForm.model.endTime14;
        var startTime15 = this.$refs.ruleForm.model.startTime15;
        var endTime15 = this.$refs.ruleForm.model.endTime15;
        var startTime16 = this.$refs.ruleForm.model.startTime16;
        var endTime16 = this.$refs.ruleForm.model.endTime16;
        var startTime17 = this.$refs.ruleForm.model.startTime17;
        var endTime17 = this.$refs.ruleForm.model.endTime17;
        var startTime18 = this.$refs.ruleForm.model.startTime18;
        var endTime18 = this.$refs.ruleForm.model.endTime18;
        var startTime19 = this.$refs.ruleForm.model.startTime19;
        var endTime19 = this.$refs.ruleForm.model.endTime19;
        var startTime20 = this.$refs.ruleForm.model.startTime20;
        var endTime20 = this.$refs.ruleForm.model.endTime20;
        var startTime21 = this.$refs.ruleForm.model.startTime21;
        var endTime21 = this.$refs.ruleForm.model.endTime21;
        if(startTime1 == ""||endTime1 == ""){
          time1 = '';
          }else{
            time1 = startTime1+"-"+endTime1;
          }
        if(startTime2 == ""||endTime2 == ""){
          time2 = '';
        }else{
          time2 = startTime2+"-"+endTime2;
        }
        if(startTime3 == ""||endTime3 == ""){
          time3 = '';
        }else{
          time3 = startTime3+"-"+endTime3;
        }
        if(startTime4 == ""||endTime4 == ""){
          time4 = '';
        }else{
          time4 = startTime4+"-"+endTime4;
        }
        if(startTime5 == ""||endTime5 == ""){
          time5 = '';
        }else{
          time5 = startTime5+"-"+endTime5;
        }
        if(startTime6 == ""||endTime6 == ""){
          time6 = '';
        }else{
          time6 = startTime6+"-"+endTime6;
        }
        if(startTime7 == ""||endTime7 == ""){
          time7 = '';
        }else{
          time7 = startTime7+"-"+endTime7;
        }
        if(startTime8 == ""||endTime8 == ""){
          time8 = '';
        }else{
          time8 = startTime8+"-"+endTime8;
        }
        if(startTime9 == ""||endTime9 == ""){
          time9 = '';
        }else{
          time9 = startTime9+"-"+endTime9;
        }
        if(startTime10 == ""||endTime10 == ""){
          time10 = '';
        }else{
          time10 = startTime10+"-"+endTime10;
        }
        if(startTime11 == ""||endTime11 == ""){
          time11 = '';
        }else{
          time11 = startTime11+"-"+endTime11;
        }
        if(startTime12 == ""||endTime12 == ""){
          time12 = '';
        }else{
          time12 = startTime12+"-"+endTime12;
        }
        if(startTime13 == ""||endTime13 == ""){
          time13 = '';
        }else{
          time13 = startTime13+"-"+endTime13;
        }
        if(startTime14 == ""||endTime14 == ""){
          time14 = '';
        }else{
          time14 = startTime14+"-"+endTime14;
        }
        if(startTime15 == ""||endTime15 == ""){
          time15 = '';
        }else{
          time15 = startTime15+"-"+endTime15;
        }
        if(startTime16 == ""||endTime16 == ""){
          time16 = '';
        }else{
          time16 = startTime16+"-"+endTime16;
        }
        if(startTime17 == ""||endTime17 == ""){
          time17 = '';
        }else{
          time17 = startTime17+"-"+endTime17;
        }
        if(startTime18 == ""||endTime18 == ""){
          time18 = '';
        }else{
          time18 = startTime18+"-"+endTime18;
        }
        if(startTime19 == ""||endTime19 == ""){
          time19 = '';
        }else{
          time19 = startTime19+"-"+endTime19;
        }
        if(startTime20 == ""||endTime20 == ""){
          time20 = '';
        }else{
          time20 = startTime20+"-"+endTime20;
        }
        if(startTime21 == ""||endTime21 == ""){
          time21 = '';
        }else{
          time21 = startTime21+"-"+endTime21;
        }
        var self = this;
        var freetime = time1+','+time2+','+time3+'|'+time4+','+time5+','+time6+'|'+time7+','+time8+','+time9+'|'+time10+','+time11+','+time12+'|'+time13+','+time14+','+time15+'|'+time16+','+time17+','+time18+'|'+time19+','+time20+','+time21;
        this.$refs[formName].validate((valid) => {
          if (valid) {
            $.ajax({
              type: "POST",
              headers: {"token": token},
                url: ""+baseURL+"sys/seller/order/updatePurchaseOrder",
                contentType: "application/json",
                data: JSON.stringify({
                  id:vm.purchaseOrderId,
                  courseId:vm.courseId,
                  flag:0,   
                  studentName:this.$refs.ruleForm.model.nickName, 
                  countryId: this.$refs.ruleForm.model.countryId, 
                  professionalId : this.$refs.ruleForm.model.professionalId,    
                  type : this.$refs.ruleForm.model.type,
                  courseName : this.$refs.ruleForm.model.courseName,
                  courseCode : this.$refs.ruleForm.model.courseCode,
                  scheduledTime : this.$refs.ruleForm.model.scheduledTime,
                  decimalTotalPrice : Number(this.$refs.ruleForm.model.totalPrice),
                  decimalPrice : Number(this.$refs.ruleForm.model.price),
                  universityId : this.$refs.ruleForm.model.universityId,
                  eduId : Number(this.$refs.ruleForm.model.levelId),
                  schoolYear : this.$refs.ruleForm.model.schoolYear,
                  examTime : this.$refs.ruleForm.model.examTime,
                  endCourseTime : this.$refs.ruleForm.model.endCourseTime,
                  courseFamiliarityId : Number(this.$refs.ruleForm.model.courseFamiliarityId),
                  type : Number(this.$refs.ruleForm.model.type),
                  schoolAccount : this.$refs.ruleForm.model.schoolAccount,
                  schoolPws : this.$refs.ruleForm.model.schoolPws,
                  spareTime:freetime,
                  sellerDemandDesc : this.$refs.ruleForm.model.sellerDemandDesc,
                  wxAccount : this.$refs.ruleForm.model.wxAccount,
                }),
                success: function(r){
                  if(r.status == 200){
                    self.$message({
                    message: '修改成功',
                    type: 'success'
                  });
                  setTimeout(function() { 
                    window.location.reload();
                  }, 1000);
                  }
                  if(r.status == 400){
                  vm.$message({
                  message: r.body.msg,
                  type: 'warning'
                });
              }
              }
				});
          } else {
            console.log('error submit!!');
            return false;
          }
        });
      }, 
  next(){
  vm.showa = true;
  vm.showb = false;
  vm.activeName='second';
},           
// 返回
back:function(){
  window.location.reload();
},     
// 保存      
save(formName1) {
        var model = this.$refs.ruleForm.model;
        var startTime1 = this.$refs.ruleForm.model.startTime1;
        var endTime1 = this.$refs.ruleForm.model.endTime1;
        var startTime2 = this.$refs.ruleForm.model.startTime2;
        var endTime2 = this.$refs.ruleForm.model.endTime2;
        var startTime3 = this.$refs.ruleForm.model.startTime3;
        var endTime3 = this.$refs.ruleForm.model.endTime3;
        var startTime4 = this.$refs.ruleForm.model.startTime4;
        var endTime4 = this.$refs.ruleForm.model.endTime4;
        var startTime5 = this.$refs.ruleForm.model.startTime5;
        var endTime5 = this.$refs.ruleForm.model.endTime5;
        var startTime6 = this.$refs.ruleForm.model.startTime6;
        var endTime6 = this.$refs.ruleForm.model.endTime6;
        var startTime7 = this.$refs.ruleForm.model.startTime7;
        var endTime7 = this.$refs.ruleForm.model.endTime7;
        var startTime8 = this.$refs.ruleForm.model.startTime8;
        var endTime8 = this.$refs.ruleForm.model.endTime8;
        var startTime9 = this.$refs.ruleForm.model.startTime9;
        var endTime9 = this.$refs.ruleForm.model.endTime9;
        var startTime10 = this.$refs.ruleForm.model.startTime10;
        var endTime10 = this.$refs.ruleForm.model.endTime10;
        var startTime11 = this.$refs.ruleForm.model.startTime11;
        var endTime11 = this.$refs.ruleForm.model.endTime11;
        var startTime12 = this.$refs.ruleForm.model.startTime12;
        var endTime12 = this.$refs.ruleForm.model.endTime12;
        var startTime13 = this.$refs.ruleForm.model.startTime13;
        var endTime13 = this.$refs.ruleForm.model.endTime13;
        var startTime14 = this.$refs.ruleForm.model.startTime14;
        var endTime14 = this.$refs.ruleForm.model.endTime14;
        var startTime15 = this.$refs.ruleForm.model.startTime15;
        var endTime15 = this.$refs.ruleForm.model.endTime15;
        var startTime16 = this.$refs.ruleForm.model.startTime16;
        var endTime16 = this.$refs.ruleForm.model.endTime16;
        var startTime17 = this.$refs.ruleForm.model.startTime17;
        var endTime17 = this.$refs.ruleForm.model.endTime17;
        var startTime18 = this.$refs.ruleForm.model.startTime18;
        var endTime18 = this.$refs.ruleForm.model.endTime18;
        var startTime19 = this.$refs.ruleForm.model.startTime19;
        var endTime19 = this.$refs.ruleForm.model.endTime19;
        var startTime20 = this.$refs.ruleForm.model.startTime20;
        var endTime20 = this.$refs.ruleForm.model.endTime20;
        var startTime21 = this.$refs.ruleForm.model.startTime21;
        var endTime21 = this.$refs.ruleForm.model.endTime21;
        if(startTime1 == ""||endTime1 == ""){
          time1 = '';
          }else{
            time1 = startTime1+"-"+endTime1;
          }
        if(startTime2 == ""||endTime2 == ""){
          time2 = '';
        }else{
          time2 = startTime2+"-"+endTime2;
        }
        if(startTime3 == ""||endTime3 == ""){
          time3 = '';
        }else{
          time3 = startTime3+"-"+endTime3;
        }
        if(startTime4 == ""||endTime4 == ""){
          time4 = '';
        }else{
          time4 = startTime4+"-"+endTime4;
        }
        if(startTime5 == ""||endTime5 == ""){
          time5 = '';
        }else{
          time5 = startTime5+"-"+endTime5;
        }
        if(startTime6 == ""||endTime6 == ""){
          time6 = '';
        }else{
          time6 = startTime6+"-"+endTime6;
        }
        if(startTime7 == ""||endTime7 == ""){
          time7 = '';
        }else{
          time7 = startTime7+"-"+endTime7;
        }
        if(startTime8 == ""||endTime8 == ""){
          time8 = '';
        }else{
          time8 = startTime8+"-"+endTime8;
        }
        if(startTime9 == ""||endTime9 == ""){
          time9 = '';
        }else{
          time9 = startTime9+"-"+endTime9;
        }
        if(startTime10 == ""||endTime10 == ""){
          time10 = '';
        }else{
          time10 = startTime10+"-"+endTime10;
        }
        if(startTime11 == ""||endTime11 == ""){
          time11 = '';
        }else{
          time11 = startTime11+"-"+endTime11;
        }
        if(startTime12 == ""||endTime12 == ""){
          time12 = '';
        }else{
          time12 = startTime12+"-"+endTime12;
        }
        if(startTime13 == ""||endTime13 == ""){
          time13 = '';
        }else{
          time13 = startTime13+"-"+endTime13;
        }
        if(startTime14 == ""||endTime14 == ""){
          time14 = '';
        }else{
          time14 = startTime14+"-"+endTime14;
        }
        if(startTime15 == ""||endTime15 == ""){
          time15 = '';
        }else{
          time15 = startTime15+"-"+endTime15;
        }
        if(startTime16 == ""||endTime16 == ""){
          time16 = '';
        }else{
          time16 = startTime16+"-"+endTime16;
        }
        if(startTime17 == ""||endTime17 == ""){
          time17 = '';
        }else{
          time17 = startTime17+"-"+endTime17;
        }
        if(startTime18 == ""||endTime18 == ""){
          time18 = '';
        }else{
          time18 = startTime18+"-"+endTime18;
        }
        if(startTime19 == ""||endTime19 == ""){
          time19 = '';
        }else{
          time19 = startTime19+"-"+endTime19;
        }
        if(startTime20 == ""||endTime20 == ""){
          time20 = '';
        }else{
          time20 = startTime20+"-"+endTime20;
        }
        if(startTime21 == ""||endTime21 == ""){
          time21 = '';
        }else{
          time21 = startTime21+"-"+endTime21;
        }
        var freetime = time1+','+time2+','+time3+'|'+time4+','+time5+','+time6+'|'+time7+','+time8+','+time9+'|'+time10+','+time11+','+time12+'|'+time13+','+time14+','+time15+'|'+time16+','+time17+','+time18+'|'+time19+','+time20+','+time21;
        var self = this;
        this.$refs[formName1].validate((valid) => {
          if (valid) {
            $.ajax({
              type: "POST",
              headers: {"token": token},
                url: ""+baseURL+"sys/seller/order/savePurchaseOrder",
                contentType: "application/json",
                data: JSON.stringify({
                 courseId:vm.courseId,
                  flag:0,   
                  studentName:this.$refs.ruleForm.model.nickName, 
                  countryId: this.$refs.ruleForm.model.countryId, 
                  professionalId : vm.id2,    
                  universityId : vm.id1,
                  type : this.$refs.ruleForm.model.type,
                  courseName : this.$refs.ruleForm.model.courseName,
                  courseCode : this.$refs.ruleForm.model.courseCode,
                  scheduledTime : this.$refs.ruleForm.model.scheduledTime,
                  decimalTotalPrice : Number(this.$refs.ruleForm.model.totalPrice),
                  decimalPrice : Number(this.$refs.ruleForm.model.price),
                  eduId : Number(this.$refs.ruleForm.model.levelId),
                  schoolYear : this.$refs.ruleForm.model.schoolYear,
                  examTime : this.$refs.ruleForm.model.examTime,
                  endCourseTime : this.$refs.ruleForm.model.endCourseTime,
                  courseFamiliarityId : Number(this.$refs.ruleForm.model.courseFamiliarityId),
                  courseFamiliarity : vm.familiarity,
                  type : Number(this.$refs.ruleForm.model.type),
                  schoolAccount : this.$refs.ruleForm.model.schoolAccount,
                  schoolPws : this.$refs.ruleForm.model.schoolPws,
                  spareTime:freetime,
                  sellerDemandDesc : this.$refs.ruleForm.model.sellerDemandDesc,
                  wxAccount : this.$refs.ruleForm.model.wxAccount,
                }),
                success: function(r){
                  if(r.status == 200){
                    self.$message({
                    message: '创建成功',
                    type: 'success'
                  });
                  setTimeout(function() { 
                    window.location.reload();
                  }, 1000)

                  }
                  if(r.status == 400){
                    self.$message({
                    message: r.body.msg,
                    type: 'wanring'
                  });

                  }
              }
				});
          }else{
            console.log("error")
            return false;
          }
        });
      },
  change_currency(val){
    let obj = {};
    obj = this.currencys.find((item)=>{
        return item.id === val;
    });
    console.log(obj);
    vm.currencyvalue = obj.id;
    vm.currencylabel = obj.tagerCurrency;
  },  
  change_courseFamiliarityId(val){
    let obj = {};
    obj = this.courseFamiliaritys.find((item)=>{
        return item.id === val;
    });
    console.log(obj);
    vm.courseFamiliarityId = obj.id;
    vm.familiarity = obj.familiarity;


  },
send(row,index) {
    var self = this;
    var token = localStorage.getItem("token");
        self.$confirm('是否要发确认函?', '提示', {
                confirmButtonText: '确定',
                cancelButtonText: '取消',
                type: 'warning'
              })
              .then(_ => {
                  $.ajax({  
                    type : "POST",  
                    dataType: "json", 
                    data:{
                      "token": localStorage.getItem("token"),
                      "courseId": row.courseId,
                      "purId": row.purchaseOrderId,
                    } ,
                    url : ""+baseURL+"sys/seller/order/sendPurchaseOrder",  
                    success : function(json) {  
                      if(json.status == "400"){
                              vm.$message({
                              message: "请填写确认函",
                              type: 'warning'
                            });
                            }
                      if(json.status == "200"){
                        vm.$message({
                        message: "发送成功",
                        type: 'success'
                      });
                      vm.getTableData();
                      }
                      if(json.status == 400){
                    vm.$message({
                      message: json.body.msg,
                      type: 'warning'
                    });
                  }
                    }
                });
              })                         
                    
  },
 handleCurrentChange(val) {
  console.log(`当前页: ${val}`);
  this.currentPage = val;
  this.page =  this.currentPage;
  console.log(this.page);
        var self = this;  
        var token = localStorage.getItem("token");
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": val,
            "limit": 6,
            "statused" : 47,
            "onlyMe": true
          } ,
          url : ""+baseURL+"sys/seller/order/list",  
          success : function(json) {  
           self.tableDataEnd=json.body.list;  
           self.total = json.body.totalCount;
           self.pageSize = json.body.totalCount;
           self.currentPage = json.body.currPage;
         }
      });
 },
      handleSelectionChange(val) {
        this.multipleSelection = val;
        let ids = [];
        this.multipleSelection.map((item)=> {
          var id = item.id;
        ids.push(""+id+"");
        });
        this.selectedIDs = ids;
        console.log('多选',ids);
        this.idss =  this.selectedIDs;
        console.log(this.idss);
      }, 
      level(){
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": 1,
            "limit": 1000
          } ,
          url : ""+baseURL+"sys/basedata/edubackground/list",  
          success : function(json) {  
            vm.levels = json.body.list;
          }
      });
      },

      demand(){
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": 1,
            "limit": 1000
          } ,
          url : ""+baseURL+"sys/basedata/demandtype/list",  
          success : function(json) {  
            vm.demands = json.body.list;
          }
      });
      },   
      get_currency(){
        $.ajax({  
          type : "get",  
          dataType: "json", 
          data:{
            "token": token,
            "page": 1,
            "limit": 1000
          } ,
          url : ""+baseURL+"sys/basedata/exchangeRate/list",  
          success : function(json) {  
            vm.currencys = json.body.list;
          }
      });
      },
     
      apply(row,idnex){
        vm.badmodel = true;
        vm.id = row.id;
      },

      submitForm(formName) {
      var self = this;
      this.$refs[formName].validate((valid) => {
          if (valid) {
            $.ajax({  
              type : "post",  
              dataType: "json", 
              headers: {"token": token},
              data:{
                id:vm.id,
                description:this.ruleForm.description,
                exceptionType:this.ruleForm.extype,
              },
              url : ""+baseURL+"/sys/seller/order/applyBadOrder",  
              success : function(json) {  
                if(json.status == 200){
                  vm.$message({
                  message: '坏单申请成功',
                  type: 'success'
                });
                vm.badmodel=false;
                }
                if(json.status == 400){
                  vm.$message({
                  message: json.body.msg,
                  type: 'warning'
                });
                vm.badmodel=false;
                }
              }
          });
          }else{
            return false;
          }
        });
      }, 
 }
});
  </script>  
</body>  
</html>  
</html>
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a919fc40"],{"2d43":function(e,t,a){var o=a("01f5"),r=a("6462"),s=a("db4b"),n=a("b146"),i=a("5824");e.exports=function(e,t){var a=1==e,l=2==e,d=3==e,c=4==e,u=6==e,m=5==e||u,p=t||i;return function(t,i,f){for(var h,g,v=s(t),w=r(v),_=o(i,f,3),b=n(w.length),y=0,C=a?p(t,b):l?p(t,0):void 0;b>y;y++)if((m||y in w)&&(h=w[y],g=_(h,y,v),e))if(a)C[y]=g;else if(g)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:C.push(h)}else if(c)return!1;return u?-1:d||c?c:C}}},"540d":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"onCourse"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.onCourseLoading,expression:"onCourseLoading"}]},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入姓名"},model:{value:e.tableDataName,callback:function(t){e.tableDataName=t},expression:"tableDataName"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"5px"},attrs:{data:e.tableDataEnd,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[64==t.row.spoType?a("span",[a("img",{staticStyle:{width:"15px"},attrs:{src:"images/bigC.png"}})]):e._e(),e._v(" "),null!==t.row.parentId&&64!==t.row.spoType?a("span",[a("img",{staticStyle:{width:"15px"},attrs:{src:"images/ss.svg"}})]):e._e(),e._v(" "),a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return e.sees(t.row,t.$index)}}},[e._v(e._s(t.row.orderNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课堂名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课堂说明","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.description))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"上课时间","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.startTime)+" - "+e._s(t.row.endTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课堂状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.statused?a("el-tag",{attrs:{type:"success"}},[e._v("待确认课堂")]):e._e(),e._v(" "),2===t.row.statused?a("el-tag",{attrs:{type:"danger"}},[e._v("已确认")]):e._e(),e._v(" "),4===t.row.statused?a("el-tag",{attrs:{type:"warning"}},[e._v("正在上课")]):e._e(),e._v(" "),8===t.row.statused?a("el-tag",{attrs:{type:"info"}},[e._v("已结束")]):e._e(),e._v(" "),16===t.row.statused?a("el-tag",[e._v("已取消")]):e._e(),e._v(" "),32===t.row.statused?a("el-tag",[e._v("取消排课中")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link",staticStyle:{cursor:"pointer",color:"#409EFF"}},[e._v("\n              下拉操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1===t.row.statused?a("el-dropdown-item",{nativeOn:{click:function(a){return e.apply(t.row,t.$index)}}},[e._v("编辑课堂")]):e._e(),e._v(" "),16===t.row.statused||2===t.row.statused||4===t.row.statused||8===t.row.statused||32===t.row.statused?a("el-dropdown-item",{attrs:{disabled:""}},[e._v("编辑课堂")]):e._e(),e._v(" "),64!==t.row.spoType?a("el-dropdown-item",{nativeOn:{click:function(a){return e.cancel(t.row,t.$index)}}},[e._v("取消排课")]):e._e(),e._v(" "),64===t.row.spoType?a("el-dropdown-item",{attrs:{disabled:""}},[e._v("取消排课")]):e._e(),e._v(" "),4===t.row.statused||2===t.row.statused||32===t.row.statused?a("el-dropdown-item",{nativeOn:{click:function(a){return e.in_classroom(t.row,t.$index)}}},[e._v("进入课堂")]):e._e(),e._v(" "),8===t.row.statused||16===t.row.statused||1===t.row.statused?a("el-dropdown-item",{attrs:{disabled:""}},[e._v("\n                进入课堂")]):e._e(),e._v(" "),8===t.row.statused||16===t.row.statused||1===t.row.statused?a("el-dropdown-item",{attrs:{disabled:""}},[e._v("\n                结束课堂")]):e._e(),e._v(" "),4===t.row.statused||2===t.row.statused||32===t.row.statused?a("el-dropdown-item",{nativeOn:{click:function(a){return e.end_classroom(t.row,t.$index)}}},[e._v("结束课堂")]):e._e()],1)],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.modal,width:"50%"},on:{"update:visible":function(t){e.modal=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"课程名称",prop:"title"}},[a("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排课时间",prop:"course_time"}},[a("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.course_time,callback:function(t){e.$set(e.ruleForm,"course_time",t)},expression:"ruleForm.course_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"课程描述",prop:"description"}},[a("el-input",{model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{"current-page":e.currentPage,"page-sizes":[15,20],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},r=[],s=(a("608b"),a("7364"),a("5f87")),n={data:function(){return{onCourseLoading:!1,browser:"",tableDataBegin:[],tableDataName:"",tableDataEnd:[],currentPage:0,pageSize:0,modal:!1,modal_time:!1,total:0,limit:15,idss:[],courseId:"",val:1,page:"",startTime:"",endTime:"",tk:"",ruleForm:{title:"",course_time:"",description:""},rules:{title:[{required:!0,message:"请填写课程标题",trigger:"blur"}],course_time:[{required:!0,message:"请选择排课时间",trigger:"change"}],description:[{required:!0,message:"请填写课程详情",trigger:"blur"}]}}},multipleSelection:[],mounted:function(){this.getTableData()},methods:{search:function(){this.getTableData()},getTableData:function(){var e=this;this.onCourseLoading=!0,this.$axios({url:this.$api.baseURL+"api/teacher/classRoom/list",params:{page:this.val,limit:this.limit,statusedArr:"1;2;4;32",key:this.tableDataName}}).then(function(t){e.onCourseLoading=!1,e.tableDataEnd=t.data.body.list,e.total=t.data.body.totalCount,e.pageSize=t.data.body.totalCount,e.currentPage=t.data.body.currPage}).catch(function(t){e.onCourseLoading=!1})},apply:function(e,t){this.modal=!0,this.ruleForm=this.$refs.formName,this.courseId=e.id,this.cdId=e.cdId,this.startTime=e.startTime,this.endTime=e.endTime,this.description=e.description,this.time=[e.startTime,e.endTime],this.ruleForm={title:e.name,description:e.description,course_time:[e.startTime,e.endTime]}},cancel:function(e,t){var a=this;this.$confirm("是否要取消排课?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){a.$axios({url:a.$api.baseURL+"api/teacher/order/cancelClassroom",method:"post",data:{classroomId:e.id}}).then(function(e){200==e.data.status&&(a.$message({message:e.data.body.msg,type:"success"}),a.getTableData()),400==e.data.status&&(a.$message({message:e.data.body.msg,type:"warning"}),a.getTableData())}).catch(function(e){})}).catch(function(e){})},sees:function(e,t){if(64===e.spoType){var a=this.$router.resolve({path:"/bigClassRoom",query:{id:e.cdId,parentId:null}});window.open(a.href)}else if(4===e.courseType){var o=this.$router.resolve({path:"/sellerDetailWy",query:{id:e.cdId,wyid:e.offCourseName}});window.open(o.href)}else{var r=this.$router.resolve({path:"/sellerDetail",query:{id:e.cdId}});window.open(r.href)}},get_studjoinurl:function(e,t){alert(e.studentJoinUrl)},compile:function(e){e=Object(s["a"])("teactoken");for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)+e.charCodeAt(a-1));this.tk=escape(t)},in_classroom:function(e,t){for(var a=Object(s["a"])("teactoken"),o=String.fromCharCode(a.charCodeAt(0)+a.length),r=1;r<a.length;r++)o+=String.fromCharCode(a.charCodeAt(r)+a.charCodeAt(r-1));var n=escape(o);window.open(this.$api.url+"static-resource/tkcloud/giveLessons.html?classroomId="+e.id+"&iden=teac&tk="+n)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios({url:t.$api.baseURL+"/api/teacher/order/updateClassroom",data:JSON.stringify({id:t.courseId,name:t.$refs.ruleForm.model.title,cdId:t.cdId,startTime:t.$refs.ruleForm.model.course_time[0],endTime:t.$refs.ruleForm.model.course_time[1],description:t.$refs.ruleForm.model.description}),method:"post",headers:{"Content-Type":"application/json"}}).then(function(e){200==e.data.status&&(t.$message({message:e.data.body.msg,type:"success"}),t.modal=!1,t.getTableData()),400==e.data.status&&(t.$message({message:e.data.body.msg,type:"warning"}),t.modal=!1,t.getTableData())}).catch(function(e){})})},end_classroom:function(e,t){var a=this;this.$confirm("是否要结束课堂?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){a.$axios({url:a.$api.baseURL+"api/teacher/order/finishClassroom",method:"post",data:{classroomId:e.id}}).then(function(e){200==e.data.status&&(a.$message({message:e.data.body.msg,type:"success"}),a.getTableData()),400==e.data.status&&(a.$message({message:e.data.body.msg,type:"warning"}),a.getTableData())})}).catch(function(e){})},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.limit=e,this.getTableData()},handleChangearea:function(e){var t={};t=this.selects.find(function(t){return t.userId===e}),this.userId=t.userId,this.username=t.username},handleCurrentChange:function(e){this.val=e,this.getTableData()},handleSelectionChange:function(e){this.multipleSelection=e;var t=[];this.multipleSelection.map(function(e){var a=e.id;t.push(""+a)}),this.selectedIDs=t,console.log("多选",t),this.idss=this.selectedIDs,console.log(this.idss)}}},i=n,l=(a("82b4"),a("17cc")),d=Object(l["a"])(i,o,r,!1,null,"51d64d8a",null);t["default"]=d.exports},5824:function(e,t,a){var o=a("f691");e.exports=function(e,t){return new(o(e))(t)}},"608b":function(e,t,a){"use strict";var o=a("b2f5"),r=a("2d43")(5),s="find",n=!0;s in[]&&Array(1)[s](function(){n=!1}),o(o.P+o.F*n,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("644a")(s)},"82b4":function(e,t,a){"use strict";var o=a("fc3b"),r=a.n(o);r.a},f691:function(e,t,a){var o=a("88dd"),r=a("b5b8"),s=a("8b37")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},fc3b:function(e,t,a){}}]);